function bookTable(){$(".book-table__gallery").length&&$(".book-table__gallery").each(function(){let t=$(this),e=new Swiper(t.find(".book-table__swiper")[0],{centeredSlides:!0,loop:!0,loopedSlides:7,observerParent:!0,observerUpdate:!0,observer:!0,slidesPerView:1,speed:2e3,spaceBetween:0});let o=!1,n="",i=0;setInterval(function(){console.log(),o&&(0==i&&(console.log(n,t,e),"LEFT"==n&&e.slidePrev(),"RIGHT"==n)&&e.slideNext(),2e3==(i+=100))&&(i=0)},100);$(this).hover(function(){o=!0},function(){o=!1});let s=$(this).find(".book-table__cursor");$(this).mousemove(function(e){console.log(e),gsap.to(s,.23,{left:e.pageX-t.offset().left,top:e.pageY-t.offset().top,ease:Power4.easOut}),n="",o&&e.clientX<$(this).innerWidth()/2&&(o=!0,n="LEFT",i=0,console.log("autoplay left")),o&&e.clientX>$(this).innerWidth()/2&&(i=0,o=!0,n="RIGHT",console.log("autoplay right"))})})}function front(){var e=!1;$(".front__player-play").click(function(){e?($(".front__player-play").removeClass("_play"),$(".front__player-audio")[0].pause(),e=!1):(e=!0,$(".front__player-play").addClass("_play"),$(".front__player-audio")[0].play())});let n=$(".front-card").length;var t=$(".front-card").length,o=t-1;let i=30,s=30,l=(window.innerWidth<900&&(i=15,s=22),.3),a=(window.innerWidth<900&&(l=.2),!1),r=[];for(let e=1;e<=n;e++)r.push(e);console.log(r),$(".front__swiper").on("mousewheel",function(e){$("#front-top").attr("state");if(0<e.originalEvent.wheelDelta/120){if(!a){a=!0,setTimeout(function(){a=!1},1e3),console.log("frontDown");var t=[];t.push(r[n-1]);for(let e=0;e<n-1;e++)t.push(r[e]);r=t,console.log(r),r.forEach((e,t)=>{var o=n-1-t;gsap.to("#front-card-"+e,{top:s*o*-1,zIndex:100*(t+1),width:$(".front__swiper").width()-2*i*o,marginLeft:i*o,duration:l})}),gsap.to("#front-card-"+r[0],{top:window.innerHeight-300,zIndex:1e3,width:1.1*$(".front__swiper").width(),marginLeft:0,duration:l,onComplete:function(){gsap.to("#front-card-"+r[0],{top:-1*s*(n-1),zIndex:80,width:$(".front__swiper").width()-2*i*(n-1),marginLeft:i*(n-1),duration:l/2})}})}}else if(!a){a=!0,setTimeout(function(){a=!1},1e3),console.log("frontUp");var o=[];for(let e=1;e<n;e++)o.push(r[e]);o.push(r[0]),r=o,console.log(r),r.forEach((e,t)=>{var o=n-1-t;gsap.to("#front-card-"+e,{top:s*o*-1,zIndex:100*(t+1),width:$(".front__swiper").width()-2*i*o,marginLeft:i*o,duration:l})}),gsap.to("#front-card-"+r[n-1],{top:900<window.innerWidth?-250:-150,zIndex:0,width:900<window.innerWidth?$(".front__swiper").width()-200:$(".front__swiper").width(),marginLeft:900<window.innerWidth?200:0,duration:l,onComplete:function(){gsap.to("#front-card-"+r[n-1],{top:0,zIndex:1e3,width:$(".front__swiper").width(),marginLeft:0,duration:l/2})}})}$(".front__number").text($("#front-card-"+r[n-1]).data("number"))}),console.log(t,o)}function afisha(){$(".afisha-slider").length&&$(".afisha-slider").each(function(){let t=$(this);const e=new Swiper(".afisha-slider__swiper",{slidesPerView:"auto",speed:2e3,spaceBetween:194});let o=!1,n="",i=0;setInterval(function(){o&&(0==i&&(console.log(n),"LEFT"==n&&e.slidePrev(),"RIGHT"==n)&&e.slideNext(),2e3==(i+=100))&&(i=0)},100);$(this).hover(function(){o=!0},function(){o=!1});var s=$(this).find(".afisha-slider__cursor");$(this).mousemove(function(e){console.log(t.offset().top),gsap.to(s,.23,{left:e.pageX-t.offset().left,top:e.pageY-t.offset().top,ease:Power4.easOut}),n="",o&&e.clientX<window.innerWidth/3&&(o=!0,n="LEFT",i=0,console.log("autoplay left")),o&&e.clientX>window.innerWidth-window.innerWidth/3&&(i=0,o=!0,n="RIGHT",console.log("autoplay right"))})})}function header(){$(".header__open-menu").click(function(){$(".header").toggleClass("_open-menu")})}function components(){function e(){$(".block__tab").each(function(){$(this).hasClass("_active")?$($(this).data("tab")).removeClass("_d-none"):$($(this).data("tab")).addClass("_d-none")})}$(".block__head").append('<span class="block__head-line"></span>'),$(".block h2,.block .h2:not(a)").each(function(){var n=$(this),e=($(this).after('<div class="block__h2-lines h2">'),$(this).wrap('<div class="block__h2-default">'),$(this).html().replace(/[\wа-яё,.!:;(&)]+/gim,function(e){return"br"===e||"i"===e?e:"<span>"+e+"</span>"}));$(this).html(e),$(this).find("i span").each(function(){$(this).html("<i>"+$(this).text()+"</i>")});let t=1,o=0;$(this).find("span,br").each(function(){$(this).position().top>=o+30&&(t++,o=$(this).position().top),$(this).attr("line",t)});var i=$(this).closest(".block__h2-default").next(".block__h2-lines");for(let o=1;o<30;o++){let e=$("<div>",{class:"block__h2-line-"+o}),t=0;n.find("span[line='"+o+"']").each(function(){e.append($(this).clone()),e.append(" "),t=1}),t&&(i.append(e),e.wrap('<div class="block__h2-line-wrap">'))}}),window.addEventListener("resize",function(e){$(".block h2,.block .h2:not(a)").each(function(){var n=$(this);let e=1,t=0;$(this).find("span,br").each(function(){$(this).position().top>=t+30&&(e++,t=$(this).position().top),$(this).attr("line",e)});var i=$(this).closest(".block__h2-default").next(".block__h2-lines");i.html("");for(let o=1;o<30;o++){let e=$("<div>",{class:"block__h2-line-"+o}),t=0;console.log(n.html()),n.find("span[line='"+o+"']").each(function(){e.append($(this).clone()),e.append(" "),t=1}),t&&(i.append(e),e.wrap('<div class="block__h2-line-wrap">'))}})},!0),$(".photo-slider").length&&$(".photo-slider").each(function(){let t=$(this),e=new Swiper(t.find(".photo-slider__swiper")[0],{centeredSlides:!0,loop:!0,loopedSlides:7,observerParent:!0,observerUpdate:!0,observer:!0,slidesPerView:"auto",speed:2e3,spaceBetween:20,breakpoints:{600:{spaceBetween:100},1300:{spaceBetween:215}}});let o=!1,n="",i=0;setInterval(function(){console.log(),o&&(0==i&&("LEFT"==n&&e.slidePrev(),"RIGHT"==n)&&e.slideNext(),2e3==(i+=100))&&(i=0)},100);$(this).hover(function(){o=!0},function(){o=!1});let s=$(this).find(".photo-slider__cursor");$(this).mousemove(function(e){gsap.to(s,.23,{left:e.pageX,top:e.pageY-t.offset().top,ease:Power4.easOut}),n="",o&&e.clientX<window.innerWidth/3&&(o=!0,n="LEFT",i=0,console.log("autoplay left")),o&&e.clientX>window.innerWidth-window.innerWidth/3&&(i=0,o=!0,n="RIGHT",console.log("autoplay right"))})}),$(".block__tabs .block__tab").click(function(){$(this).closest(".block__tabs").find(".block__tab").removeClass("_active"),$(this).addClass("_active"),e()}),e(),$(".air").each(function(){new AirDatepicker(this,{})}),$(".select2-wrap").each(function(){$(this).find(".select2").select2({minimumResultsForSearch:-1,dropdownParent:$(this),placeholder:"Select an option"})})}$(function(){bookTable()}),$(function(){}),$(function(){}),$(function(){}),$(function(){}),$(function(){front()}),$(function(){}),$(function(){}),$(function(){}),$(function(){}),$(function(){}),$(function(){afisha()}),$(function(){let e=new LocomotiveScroll({el:document.querySelector("[data-scroll-container]"),smooth:!0});e.on("scroll",e=>{if("object"==typeof e.currentElements){var t;for(key in e.currentElements)console.log($(e.currentElements[key].el).hasClass("two-photo")),$(e.currentElements[key].el).hasClass("two-photo")&&((t=$(e.currentElements[key].el)).find(".two-photo__big:first-child").css("padding-right",174*e.currentElements[key].progress),t.find(".two-photo__small:last-child").css("padding-left",174*(1-e.currentElements[key].progress)),t.find(".two-photo__big:last-child").css("padding-left",174*e.currentElements[key].progress),t.find(".two-photo__small:first-child").css("padding-right",174*(1-e.currentElements[key].progress)))}}),barba.hooks.after(()=>{components(),bookTable(),afisha(),e.scrollTo("top",100),setTimeout(function(){e.update()},1500)}),barba.init()}),$(function(){header()}),$(function(){components()});